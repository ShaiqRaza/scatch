<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <title>Shop</title>
</head>
<body class="w-screen h-screen overflow-x-hidden">
    <div class="w-full h-full">
        <!-- Menu Bar -->
        <nav class="flex justify-between items-center bg-white w-full xl:h-24 lg:h-20 md:h-16 sm:h-14 h-12 shadow-md fixed top-0 left-0 xl:px-16 lg:px-14 md:px-12 sm:px-10 xs:px-8 px-6 z-50">
            <div class="flex items-center">
                <h1 class="font-bold text-blue-500 lg:text-4xl md:text-3xl sm:text-2xl text-xl cursor-pointer">Scatch</h1>
            </div>
            <div class="flex justify-evenly items-center">
                <% if(token) { %>
                    <form action="/user/profile" method="get">
                        <button class="text-green-500 hover:text-green-700 font-bold py-2 md:px-4 sm:px-3 px-2 lg:text-base sm:text-sm text-xs" type="submit">Profile</button>
                    </form>
                    <form action="/owner/panel" method="get">
                        <button class="text-gray-500 hover:text-gray-700 font-bold py-2 md:px-4 sm:px-3 px-2 lg:text-base sm:text-sm text-xs" type="submit">Admin Panel</button>
                    </form>
                    
                <% } else { %>
                    <form action="/user/loginPage" method="get">
                        <button class="text-orange-500 hover:text-orange-700 font-bold py-2 md:px-4 sm:px-3 px-2 lg:text-base sm:text-sm text-xs" type="submit">Login</button>
                    </form>
                <% } %>
                
        </nav>      

        <div class="px-7">
            <!-- Side Left Bar -->
            <div class="bg-gray-300 fixed xl:top-32 lg:top-28 md:top-24 sm:top-20 top-16 xl:w-[180px] lg:w-[160px] md:w-[140px] sm:w-[120px] xs:w-[100px] w-[80px] xl:h-52 lg:h-44 md:h-36 sm:h-32 xs:h-28 h-24">
                <button class="text-gray-800 font-bold py-2 lg:text-lg md:text-base sm:text-sm text-xs">Filter by</button>
                <button class="text-gray-800 font-bold py-2 lg:text-lg md:text-base sm:text-sm text-xs">Sort by</button>
            </div>  
            <!-- Main products display area (Change flex to grid) -->
            <div class="grid xxl:grid-cols-7 xl:grid-cols-6 lg:grid-cols-5 sm:grid-cols-4 xs:grid-cols-3 grid-cols-2 gap-5 w-full h-full xl:pt-32 lg:pt-28 md:pt-24 sm:pt-20 pt-16 xl:pl-[230px] lg:pl-[200px] md:pl-[180px] sm:pl-[150px] xs:pl-[120px] pl-[100px]">      
                <% products.forEach( (product)=>{ %>
                    <div class="xl:w-[10vw] xl:h-[15vw] lg:w-[12vw] lg:h-[18vw] sm:w-[15vw] sm:h-[22vw] xs:w-[19vw] xs:h-[29vw] w-[22vw] h-[33vw] flex flex-col bg-slate-400">
                        <img src="data:image/png;base64,<%= product.image.toString('base64') %>" alt="Product image!" class="h-3/5 w-full">
                    </div> 
                <% } ) %>             
            </div>
        </div>

    </div>
</body>
</html>